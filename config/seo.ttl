@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix schema: <http://schema.org/> .
@prefix galseo: <http://gallery.example.org/seo#> .
@prefix galcfg: <http://gallery.example.org/config#> .

# =============================================================================
# SEO CONFIGURATION - GOLDEN SOURCE
# =============================================================================

# -----------------------------------------------------------------------------
# Site-Wide SEO Settings
# -----------------------------------------------------------------------------

galseo:SiteConfig
    a galseo:SEOConfiguration ;
    galseo:siteName "${SITE_NAME}" ;
    galseo:siteUrl "${SITE_URL}" ;
    galseo:defaultLocale "en" ;
    galseo:supportedLocales ("en" "es" "fr" "de" "ja" "pt" "ru" "zh" "it" "nl" "pl" "ar") ;
    galseo:titleSeparator " | " ;
    galseo:titleSuffix "${SITE_NAME}" ;
    galseo:defaultOgImage "${SITE_URL}/images/og-default.jpg"^^xsd:anyURI ;
    galseo:twitterCard "summary_large_image" ;
    galseo:twitterSite "@${TWITTER_HANDLE}" ;
    galseo:facebookAppId "${FB_APP_ID}" ;
    galseo:googleSiteVerification "${GOOGLE_VERIFICATION}" ;
    galseo:bingSiteVerification "${BING_VERIFICATION}" ;
    galseo:yandexVerification "${YANDEX_VERIFICATION}" .

# -----------------------------------------------------------------------------
# URL Structure Configuration
# -----------------------------------------------------------------------------

galseo:UrlPatterns
    a galseo:URLConfiguration ;
    galseo:useTrailingSlash false ;
    galseo:forceLowercase true ;
    galseo:maxSlugLength 100 ;
    galseo:slugSeparator "-" ;
    galseo:removeStopWords true ;
    galseo:transliterateNonAscii true ;
    galseo:patterns (
        [
            galseo:pageType "home" ;
            galseo:pattern "/{locale}" ;
            galseo:canonicalPattern "/"
        ]
        [
            galseo:pageType "gallery" ;
            galseo:pattern "/{locale}/gallery/{slug}" ;
            galseo:canonicalPattern "/gallery/{slug}"
        ]
        [
            galseo:pageType "photo" ;
            galseo:pattern "/{locale}/photo/{gallerySlug}/{photoSlug}" ;
            galseo:canonicalPattern "/photo/{gallerySlug}/{photoSlug}"
        ]
        [
            galseo:pageType "video" ;
            galseo:pattern "/{locale}/video/{slug}" ;
            galseo:canonicalPattern "/video/{slug}"
        ]
        [
            galseo:pageType "category" ;
            galseo:pattern "/{locale}/category/{slug}" ;
            galseo:canonicalPattern "/category/{slug}"
        ]
        [
            galseo:pageType "creator" ;
            galseo:pattern "/{locale}/creator/{username}" ;
            galseo:canonicalPattern "/creator/{username}"
        ]
        [
            galseo:pageType "tag" ;
            galseo:pattern "/{locale}/tag/{slug}" ;
            galseo:canonicalPattern "/tag/{slug}"
        ]
        [
            galseo:pageType "search" ;
            galseo:pattern "/{locale}/search" ;
            galseo:canonicalPattern "/search" ;
            galseo:noIndex true
        ]
        [
            galseo:pageType "live" ;
            galseo:pattern "/{locale}/live" ;
            galseo:canonicalPattern "/live"
        ]
    ) .

# -----------------------------------------------------------------------------
# Meta Tag Templates (Per Page Type)
# -----------------------------------------------------------------------------

galseo:HomePageMeta
    a galseo:MetaTemplate ;
    galseo:pageType "home" ;
    galseo:titleTemplate "title.home"@en ;
    galseo:descriptionTemplate "description.home"@en ;
    galseo:keywordsTemplate "keywords.home"@en .

galseo:GalleryPageMeta
    a galseo:MetaTemplate ;
    galseo:pageType "gallery" ;
    galseo:titleTemplate "{galleryTitle} - {photoCount} Photos"@en ;
    galseo:titleTemplate "{galleryTitle} - {photoCount} Fotos"@es ;
    galseo:titleTemplate "{galleryTitle} - {photoCount} Photos"@fr ;
    galseo:titleTemplate "{galleryTitle} - {photoCount} Fotos"@de ;
    galseo:titleTemplate "{galleryTitle} - {photoCount}枚の写真"@ja ;
    galseo:descriptionTemplate "{galleryDescription}"@en ;
    galseo:descriptionMaxLength 160 ;
    galseo:autoGenerateDescription true .

galseo:PhotoPageMeta
    a galseo:MetaTemplate ;
    galseo:pageType "photo" ;
    galseo:titleTemplate "{photoTitle} from {galleryTitle}"@en ;
    galseo:titleTemplate "{photoTitle} de {galleryTitle}"@es ;
    galseo:titleTemplate "{photoTitle} de {galleryTitle}"@fr ;
    galseo:titleTemplate "{photoTitle} aus {galleryTitle}"@de ;
    galseo:titleTemplate "{photoTitle} - {galleryTitle}より"@ja ;
    galseo:descriptionTemplate "{photoDescription}"@en ;
    galseo:ogType "article" ;
    galseo:useImageAsOg true .

galseo:VideoPageMeta
    a galseo:MetaTemplate ;
    galseo:pageType "video" ;
    galseo:titleTemplate "{videoTitle} - Watch Now"@en ;
    galseo:titleTemplate "{videoTitle} - Ver Ahora"@es ;
    galseo:titleTemplate "{videoTitle} - Regarder Maintenant"@fr ;
    galseo:titleTemplate "{videoTitle} - Jetzt Ansehen"@de ;
    galseo:titleTemplate "{videoTitle} - 今すぐ見る"@ja ;
    galseo:descriptionTemplate "{videoDescription}"@en ;
    galseo:ogType "video.other" ;
    galseo:useVideoThumbnailAsOg true .

galseo:CategoryPageMeta
    a galseo:MetaTemplate ;
    galseo:pageType "category" ;
    galseo:titleTemplate "{categoryName} - Browse {itemCount} Items"@en ;
    galseo:titleTemplate "{categoryName} - Explorar {itemCount} Elementos"@es ;
    galseo:titleTemplate "{categoryName} - Parcourir {itemCount} Éléments"@fr ;
    galseo:titleTemplate "{categoryName} - {itemCount} Elemente durchsuchen"@de ;
    galseo:titleTemplate "{categoryName} - {itemCount}件を閲覧"@ja ;
    galseo:descriptionTemplate "{categoryDescription}"@en .

galseo:CreatorPageMeta
    a galseo:MetaTemplate ;
    galseo:pageType "creator" ;
    galseo:titleTemplate "{creatorName}'s Gallery"@en ;
    galseo:titleTemplate "Galería de {creatorName}"@es ;
    galseo:titleTemplate "Galerie de {creatorName}"@fr ;
    galseo:titleTemplate "{creatorName}s Galerie"@de ;
    galseo:titleTemplate "{creatorName}のギャラリー"@ja ;
    galseo:descriptionTemplate "{creatorBio}"@en ;
    galseo:ogType "profile" .

galseo:LivePageMeta
    a galseo:MetaTemplate ;
    galseo:pageType "live" ;
    galseo:titleTemplate "Live Streams - Watch Now"@en ;
    galseo:titleTemplate "Transmisiones en Vivo - Ver Ahora"@es ;
    galseo:titleTemplate "Diffusions en Direct - Regarder"@fr ;
    galseo:titleTemplate "Live Streams - Jetzt Ansehen"@de ;
    galseo:titleTemplate "ライブ配信 - 今すぐ見る"@ja ;
    galseo:noIndex false .

# -----------------------------------------------------------------------------
# Structured Data (JSON-LD) Configuration
# -----------------------------------------------------------------------------

galseo:StructuredDataConfig
    a galseo:StructuredData ;
    galseo:enableOrganization true ;
    galseo:enableWebSite true ;
    galseo:enableBreadcrumbs true ;
    galseo:enableImageObject true ;
    galseo:enableVideoObject true ;
    galseo:enablePerson true ;
    galseo:enableCollectionPage true .

galseo:OrganizationSchema
    a galseo:SchemaTemplate ;
    galseo:schemaType "Organization" ;
    galseo:properties (
        [
            galseo:property "@type" ;
            galseo:value "Organization"
        ]
        [
            galseo:property "name" ;
            galseo:valueFrom "${SITE_NAME}"
        ]
        [
            galseo:property "url" ;
            galseo:valueFrom "${SITE_URL}"
        ]
        [
            galseo:property "logo" ;
            galseo:valueFrom "${SITE_URL}/images/logo.png"
        ]
        [
            galseo:property "sameAs" ;
            galseo:valueArray true ;
            galseo:valueFrom ("${TWITTER_URL}" "${INSTAGRAM_URL}" "${FACEBOOK_URL}")
        ]
    ) .

galseo:ImageObjectSchema
    a galseo:SchemaTemplate ;
    galseo:schemaType "ImageObject" ;
    galseo:properties (
        [
            galseo:property "@type" ;
            galseo:value "ImageObject"
        ]
        [
            galseo:property "contentUrl" ;
            galseo:valueFrom "{imageUrl}"
        ]
        [
            galseo:property "name" ;
            galseo:valueFrom "{imageTitle}"
        ]
        [
            galseo:property "description" ;
            galseo:valueFrom "{imageDescription}"
        ]
        [
            galseo:property "width" ;
            galseo:valueFrom "{imageWidth}"
        ]
        [
            galseo:property "height" ;
            galseo:valueFrom "{imageHeight}"
        ]
        [
            galseo:property "datePublished" ;
            galseo:valueFrom "{publishDate}"
        ]
        [
            galseo:property "author" ;
            galseo:nestedSchema galseo:PersonSchema
        ]
    ) .

galseo:VideoObjectSchema
    a galseo:SchemaTemplate ;
    galseo:schemaType "VideoObject" ;
    galseo:properties (
        [
            galseo:property "@type" ;
            galseo:value "VideoObject"
        ]
        [
            galseo:property "name" ;
            galseo:valueFrom "{videoTitle}"
        ]
        [
            galseo:property "description" ;
            galseo:valueFrom "{videoDescription}"
        ]
        [
            galseo:property "thumbnailUrl" ;
            galseo:valueFrom "{thumbnailUrl}"
        ]
        [
            galseo:property "duration" ;
            galseo:valueFrom "{videoDuration}"
        ]
        [
            galseo:property "uploadDate" ;
            galseo:valueFrom "{uploadDate}"
        ]
        [
            galseo:property "contentUrl" ;
            galseo:valueFrom "{videoUrl}"
        ]
    ) .

galseo:BreadcrumbSchema
    a galseo:SchemaTemplate ;
    galseo:schemaType "BreadcrumbList" ;
    galseo:dynamicItems true ;
    galseo:itemTemplate (
        [
            galseo:property "@type" ;
            galseo:value "ListItem"
        ]
        [
            galseo:property "position" ;
            galseo:valueFrom "{position}"
        ]
        [
            galseo:property "name" ;
            galseo:valueFrom "{name}"
        ]
        [
            galseo:property "item" ;
            galseo:valueFrom "{url}"
        ]
    ) .

galseo:PersonSchema
    a galseo:SchemaTemplate ;
    galseo:schemaType "Person" ;
    galseo:properties (
        [
            galseo:property "@type" ;
            galseo:value "Person"
        ]
        [
            galseo:property "name" ;
            galseo:valueFrom "{creatorName}"
        ]
        [
            galseo:property "url" ;
            galseo:valueFrom "{creatorUrl}"
        ]
        [
            galseo:property "image" ;
            galseo:valueFrom "{creatorAvatar}"
        ]
    ) .

# -----------------------------------------------------------------------------
# Sitemap Configuration
# -----------------------------------------------------------------------------

galseo:SitemapConfig
    a galseo:SitemapConfiguration ;
    galseo:enabled true ;
    galseo:location "/sitemap.xml" ;
    galseo:maxUrlsPerFile 50000 ;
    galseo:generateIndex true ;
    galseo:includeImages true ;
    galseo:includeVideos true ;
    galseo:includeAlternateLanguages true ;
    galseo:updateFrequency "daily" ;
    galseo:sitemaps (
        [
            galseo:name "sitemap-galleries" ;
            galseo:pattern "/sitemap-galleries-{page}.xml" ;
            galseo:changefreq "weekly" ;
            galseo:priority 0.8
        ]
        [
            galseo:name "sitemap-photos" ;
            galseo:pattern "/sitemap-photos-{page}.xml" ;
            galseo:changefreq "monthly" ;
            galseo:priority 0.6
        ]
        [
            galseo:name "sitemap-videos" ;
            galseo:pattern "/sitemap-videos-{page}.xml" ;
            galseo:changefreq "weekly" ;
            galseo:priority 0.7
        ]
        [
            galseo:name "sitemap-categories" ;
            galseo:pattern "/sitemap-categories.xml" ;
            galseo:changefreq "monthly" ;
            galseo:priority 0.5
        ]
        [
            galseo:name "sitemap-creators" ;
            galseo:pattern "/sitemap-creators-{page}.xml" ;
            galseo:changefreq "weekly" ;
            galseo:priority 0.7
        ]
        [
            galseo:name "sitemap-pages" ;
            galseo:pattern "/sitemap-pages.xml" ;
            galseo:changefreq "monthly" ;
            galseo:priority 0.9
        ]
    ) .

# -----------------------------------------------------------------------------
# Robots.txt Configuration
# -----------------------------------------------------------------------------

galseo:RobotsConfig
    a galseo:RobotsConfiguration ;
    galseo:rules (
        [
            galseo:userAgent "*" ;
            galseo:allow "/" ;
            galseo:disallow "/api/" ;
            galseo:disallow "/admin/" ;
            galseo:disallow "/search" ;
            galseo:disallow "/*?*sort=" ;
            galseo:disallow "/*?*page=" ;
            galseo:crawlDelay 1
        ]
        [
            galseo:userAgent "Googlebot" ;
            galseo:allow "/" ;
            galseo:disallow "/api/"
        ]
        [
            galseo:userAgent "Googlebot-Image" ;
            galseo:allow "/media/" ;
            galseo:allow "/images/"
        ]
    ) ;
    galseo:sitemapReference "${SITE_URL}/sitemap.xml" .

# -----------------------------------------------------------------------------
# Social Media Preview Configuration
# -----------------------------------------------------------------------------

galseo:SocialPreview
    a galseo:SocialConfiguration ;
    galseo:ogImageWidth 1200 ;
    galseo:ogImageHeight 630 ;
    galseo:twitterImageWidth 1200 ;
    galseo:twitterImageHeight 600 ;
    galseo:generatePreviewImages true ;
    galseo:previewTemplate "default" ;
    galseo:overlayLogo true ;
    galseo:logoPosition "bottom-right" ;
    galseo:textOverlay true ;
    galseo:fontFamily "Inter" ;
    galseo:titleFontSize 48 ;
    galseo:descriptionFontSize 24 .

# -----------------------------------------------------------------------------
# Performance & Core Web Vitals
# -----------------------------------------------------------------------------

galseo:PerformanceConfig
    a galseo:PerformanceConfiguration ;
    galseo:enablePreload true ;
    galseo:preloadResources (
        [
            galseo:type "font" ;
            galseo:href "/fonts/inter-var.woff2" ;
            galseo:crossorigin "anonymous"
        ]
    ) ;
    galseo:enablePrefetch true ;
    galseo:prefetchStrategy "viewport" ;
    galseo:lazyLoadImages true ;
    galseo:lazyLoadThreshold "200px" ;
    galseo:enableServiceWorker true ;
    galseo:cacheStrategy "stale-while-revalidate" ;
    galseo:imageFormats ("avif" "webp" "jpg") ;
    galseo:responsiveBreakpoints (320 640 768 1024 1280 1536) .

# -----------------------------------------------------------------------------
# Internationalized SEO
# -----------------------------------------------------------------------------

galseo:HreflangConfig
    a galseo:HreflangConfiguration ;
    galseo:enabled true ;
    galseo:defaultLocale "en" ;
    galseo:xDefaultLocale "en" ;
    galseo:localeMapping (
        [
            galseo:locale "en" ;
            galseo:hreflang "en" ;
            galseo:region "US"
        ]
        [
            galseo:locale "es" ;
            galseo:hreflang "es" ;
            galseo:region "ES"
        ]
        [
            galseo:locale "fr" ;
            galseo:hreflang "fr" ;
            galseo:region "FR"
        ]
        [
            galseo:locale "de" ;
            galseo:hreflang "de" ;
            galseo:region "DE"
        ]
        [
            galseo:locale "ja" ;
            galseo:hreflang "ja" ;
            galseo:region "JP"
        ]
        [
            galseo:locale "pt" ;
            galseo:hreflang "pt-BR" ;
            galseo:region "BR"
        ]
        [
            galseo:locale "ru" ;
            galseo:hreflang "ru" ;
            galseo:region "RU"
        ]
        [
            galseo:locale "zh" ;
            galseo:hreflang "zh-Hans" ;
            galseo:region "CN"
        ]
        [
            galseo:locale "it" ;
            galseo:hreflang "it" ;
            galseo:region "IT"
        ]
        [
            galseo:locale "nl" ;
            galseo:hreflang "nl" ;
            galseo:region "NL"
        ]
        [
            galseo:locale "pl" ;
            galseo:hreflang "pl" ;
            galseo:region "PL"
        ]
        [
            galseo:locale "ar" ;
            galseo:hreflang "ar" ;
            galseo:region "SA"
        ]
    ) .
